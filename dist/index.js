!function(e,_){"object"==typeof exports&&"object"==typeof module?module.exports=_(require("react"),require("prop-types"),require("better-scroll")):"function"==typeof define&&define.amd?define(["react","prop-types","better-scroll"],_):"object"==typeof exports?exports.indexList=_(require("react"),require("prop-types"),require("better-scroll")):e.indexList=_(e.React,e.PropTypes,e.BScroll)}(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__12__){return function(e){var _={};function t(r){if(_[r])return _[r].exports;var l=_[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,t),l.l=!0,l.exports}return t.m=e,t.c=_,t.d=function(e,_,r){t.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,_){if(1&_&&(e=t(e)),8&_)return e;if(4&_&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var l in e)t.d(r,l,function(_){return e[_]}.bind(null,l));return r},t.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(_,"a",_),_},t.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},t.p="",t(t.s=14)}([function(e,_){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,_){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(module,exports,__webpack_require__){"use strict";var evalAllowed=!1;try{eval("evalAllowed = true")}catch(e){}var platformSupported=!!Object.setPrototypeOf&&evalAllowed;module.exports=__webpack_require__(17)},function(e,_){e.exports=function(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")}},function(e,_){function t(e,_){for(var t=0;t<_.length;t++){var r=_[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,_,r){return _&&t(e.prototype,_),r&&t(e,r),e}},function(e,_,t){var r=t(15),l=t(6);e.exports=function(e,_){return!_||"object"!==r(_)&&"function"!=typeof _?l(e):_}},function(e,_){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,_){function t(_){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(_)}e.exports=t},function(e,_,t){var r=t(16);e.exports=function(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),_&&r(e,_)}},function(e,_){e.exports=function(e){if(!e.webpackPolyfill){var _=Object.create(e);_.children||(_.children=[]),Object.defineProperty(_,"loaded",{enumerable:!0,get:function(){return _.l}}),Object.defineProperty(_,"id",{enumerable:!0,get:function(){return _.i}}),Object.defineProperty(_,"exports",{enumerable:!0}),_.webpackPolyfill=1}return _}},function(e,_,t){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function l(){for(var e=[],_=0;_<arguments.length;_++){var r=arguments[_];if(r){var n=typeof r;if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r)&&r.length){var o=l.apply(null,r);o&&e.push(o)}else if("object"===n)for(var a in r)t.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(r=function(){return l}.apply(_,[]))||(e.exports=r)}()},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),better_scroll__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(12),better_scroll__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(better_scroll__WEBPACK_IMPORTED_MODULE_8__),enterModule;enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var Scroll=function(_PureComponent){function Scroll(){var e,_;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Scroll);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(_=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,(e=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(Scroll)).call.apply(e,[this].concat(r))))._initScroll=function(){var e=_.props,t=e.probeType,r=e.click,l=e.listenScroll,n=e.pullup,o=e.beforeScroll,a=e.handleScroll,i=e.handleScrollToEnd,u=e.handleBeforeScroll;if(_.wrapper){if(_.scroll=new better_scroll__WEBPACK_IMPORTED_MODULE_8___default.a(_.wrapper,{probeType:t,click:r}),l){_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_));_.scroll.on("scroll",function(e){a(e)})}n&&_.scroll.on("scrollEnd",function(){_.scroll.y<=_.scroll.maxScrollY+50&&i()}),o&&_.scroll.on("beforeScrollStart",function(){u()})}},_.disable=function(){_.scroll&&_.scroll.disable()},_.enable=function(){_.scroll&&_.scroll.enable()},_.refresh=function(){_.scroll&&_.scroll.refresh()},_.scrollTo=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_.scroll&&_.scroll.scrollTo.apply(_.scroll,t)},_.scrollToElement=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];_.scroll&&_.scroll.scrollToElement.apply(_.scroll,t)},_}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Scroll,_PureComponent),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Scroll,[{key:"componentDidMount",value:function(){this._initScroll()}},{key:"componentWillReceiveProps",value:function(e){var _=this;e.data!==this.props.data&&setTimeout(function(){_.refresh()},this.props.refreshDelay)}},{key:"render",value:function(){var e=this;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{ref:function(_){return e.wrapper=_},className:this.props.className},this.props.children)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Scroll}(react__WEBPACK_IMPORTED_MODULE_6__.PureComponent);Scroll.defaultProps={probeType:1,click:!0,listenScroll:!1,data:[],pullup:!1,beforeScroll:!1,refreshDelay:20},Scroll.propTypes={probeType:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number,click:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,listenScroll:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,data:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array,pullup:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,beforeScroll:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,refreshDelay:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number};var _default=Scroll,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(Scroll,"Scroll","E:\\Github\\react-indexlist\\src\\components\\scroll\\scroll.js"),reactHotLoader.register(_default,"default","E:\\Github\\react-indexlist\\src\\components\\scroll\\scroll.js"),leaveModule(module))}).call(this,__webpack_require__(9)(module))},function(e,_){e.exports=__WEBPACK_EXTERNAL_MODULE__12__},function(e,_,t){"use strict";(function(e){var r;t.d(_,"a",function(){return o}),(r=t(2).enterModule)&&r(e);var l,n,o=function(e,_,t){return t?e.setAttribute("data-"+_,t):e.getAttribute("data-"+_)};l=t(2).default,n=t(2).leaveModule,l&&(l.register(o,"getData","E:\\Github\\react-indexlist\\src\\utils\\index.js"),n(e))}).call(this,t(9)(e))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10),classnames__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_7__),_scroll_scroll__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(11),_utils_index_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),_index_less__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18),_index_less__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_index_less__WEBPACK_IMPORTED_MODULE_10__),enterModule;enterModule=__webpack_require__(2).enterModule,enterModule&&enterModule(module);var TITLE_HEIGHT=30,ANCHOR_HEIGHT=18,IndexList=function(_PureComponent){function IndexList(e){var _;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,IndexList),(_=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(IndexList).call(this,e))).onShortcutTouchStart=function(e){var t=Object(_utils_index_js__WEBPACK_IMPORTED_MODULE_9__.a)(e.target,"index"),r=e.touches[0];_.touch.y1=r.pageY,_.touch.anchorIndex=t,_._scrollTo(t)},_.onShortcutTouchMove=function(e){e.preventDefault();var t=e.touches[0];_.touch.y2=t.pageY;var r=(_.touch.y2-_.touch.y1)/ANCHOR_HEIGHT|0,l=parseInt(_.touch.anchorIndex,10)+r;_._scrollTo(l)},_.refresh=function(){_.listView.refresh()},_.scroll=function(e){_.scrollY=e.y,_.handleScrollYChange(e.y)},_.handleScrollYChange=function(e){var t=_.listHeight,r=_.state.currentIndex;if(e>0)_.setState({currentIndex:0},_.changeTitle);else{for(var l=0;l<t.length-1;l++){var n=t[l],o=t[l+1];if(-e>=n&&-e<o)return r!==l&&_.setState({currentIndex:l},_.changeTitle),_.diff=o+e,void _.handleDiffChange()}_.setState({currentIndex:t.length-2},_.changeTitle)}},_.changeTitle=function(){var e=_.props.data,t=_.state.currentIndex;if(_.scrollY>0)_.setState({fixedTitle:""});else{var r=e[t]?e[t].title:"";_.setState({fixedTitle:r})}},_.handleDiffChange=function(){var e=_.diff,t=e>0&&e<TITLE_HEIGHT?e-TITLE_HEIGHT:0;_.fixedTop!==t&&(_.fixedTop=t,_.fixed.style.transform="translate3d(0,".concat(t,"px,0)"))},_._calculateHeight=function(){_.listHeight=[];var e=_.listGroup,t=0;_.listHeight.push(t),e.forEach(function(e,r){t+=e.clientHeight,_.listHeight.push(t)})},_._scrollTo=function(e){(e||0===e)&&(e<0?e=0:e>_.listHeight.length-2&&(e=_.listHeight.length-2),_.scrollY=-_.listHeight[e],_.handleScrollYChange(_.scrollY),_.listView.scrollToElement(_.listGroup[e],0))},_.selectItem=function(e){var t=_.props.onSelect;t&&t(e)},_.state={currentIndex:0,fixedTitle:"",shortcutList:e.data.map(function(e){return e.title.substr(0,1)})},_.diff=-1,_.scrollY=-1,_.probeType=3,_.listenScroll=!0,_.touch={},_.listHeight=[],_.listGroup=[],_}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(IndexList,_PureComponent),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(IndexList,[{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.setState({shortcutList:e.data.map(function(e){return e.title.substr(0,1)})},this._calculateHeight)}},{key:"componentDidMount",value:function(){this._calculateHeight()}},{key:"render",value:function(){var e=this,_=this.props,t=_.data,r=_.renderItem,l=_.className,n=this.state,o=n.shortcutList,a=n.fixedTitle,i=n.currentIndex;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_scroll_scroll__WEBPACK_IMPORTED_MODULE_8__.a,{className:"listview ".concat(l),data:t,probeType:this.probeType,listenScroll:this.listenScroll,handleScroll:this.scroll,ref:function(_){return e.listView=_}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",null,t.map(function(_,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{className:"list-group",ref:function(_){return e.listGroup[t]=_},key:t},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2",{className:"list-group-title"},_.title),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",null,_.items.map(function(_,t){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{className:"list-group-item",key:t,onClick:function(){return e.selectItem(_)}},r?r(_):react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span",{className:"name"},_.name))})))})),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"list-shortcut",onTouchStart:this.onShortcutTouchStart,onTouchMove:this.onShortcutTouchMove},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("ul",null,o.map(function(e,_){return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("li",{key:e,"data-index":_,className:classnames__WEBPACK_IMPORTED_MODULE_7___default()("item",{current:i===_})},e)}))),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"list-fixed",ref:function(_){return e.fixed=_}},a?react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"fixed-title"},a):null))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),IndexList}(react__WEBPACK_IMPORTED_MODULE_5__.PureComponent);IndexList.defaultProps={data:[]},IndexList.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.array,onSelect:prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.func};var _default=IndexList,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=__webpack_require__(2).default,leaveModule=__webpack_require__(2).leaveModule,reactHotLoader&&(reactHotLoader.register(TITLE_HEIGHT,"TITLE_HEIGHT","E:\\Github\\react-indexlist\\src\\components\\indexlist\\IndexList.js"),reactHotLoader.register(ANCHOR_HEIGHT,"ANCHOR_HEIGHT","E:\\Github\\react-indexlist\\src\\components\\indexlist\\IndexList.js"),reactHotLoader.register(IndexList,"IndexList","E:\\Github\\react-indexlist\\src\\components\\indexlist\\IndexList.js"),reactHotLoader.register(_default,"default","E:\\Github\\react-indexlist\\src\\components\\indexlist\\IndexList.js"),leaveModule(module))}.call(this,__webpack_require__(9)(module))},function(e,_){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(_){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=r=function(e){return t(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},r(_)}e.exports=r},function(e,_){function t(_,r){return e.exports=t=Object.setPrototypeOf||function(e,_){return e.__proto__=_,e},t(_,r)}e.exports=t},function(e,_,t){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var r,l=(r=t(0))&&"object"==typeof r&&"default"in r?r.default:r,n=function(e,_){if(!(e instanceof _))throw new TypeError("Cannot call a class as a function")},o=function(e,_){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?e:_},a=function(e){function _(){return n(this,_),o(this,e.apply(this,arguments))}return function(e,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);e.prototype=Object.create(_&&_.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(e,_):e.__proto__=_)}(_,e),_.prototype.render=function(){return l.Children.only(this.props.children)},_}(l.Component);_.AppContainer=a,_.hot=function(){return function(e){return e}},_.areComponentsEqual=function(e,_){return e===_},_.setConfig=function(){},_.cold=function(e){return e},_.configureComponent=function(){}},function(e,_,t){}])});
//# sourceMappingURL=index.js.map